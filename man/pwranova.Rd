% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pwranova.r
\name{pwranova}
\alias{pwranova}
\title{Power Analysis for Between-, Within-, or Mixed-Factor ANOVA}
\usage{
pwranova(
  nlevels_b = NULL,
  nlevels_w = NULL,
  n_total = NULL,
  cohensf = NULL,
  peta2 = NULL,
  alpha = NULL,
  power = NULL,
  epsilon = 1,
  target = NULL,
  max_nfactor = 6,
  nlim = c(2, 10000)
)
}
\arguments{
\item{nlevels_b}{Integer vector. Numbers of levels for between-participant factors.
Omit or set \code{NULL} if there is no between-participant factor.}

\item{nlevels_w}{Integer vector. Numbers of levels for within-participant factors.
Omit or set \code{NULL} if there is no within-participant factor.}

\item{n_total}{Integer or integer vector. Total sample size(s) across all groups.
If \code{NULL}, the function solves for \code{n_total}.}

\item{cohensf}{Numeric. Cohen's \eqn{f} (non-negative). If \code{NULL}, it is
derived from \code{peta2} when available.}

\item{peta2}{Numeric in \eqn{(0,1)}. Partial eta squared. If \code{NULL}, it is
derived from \code{cohensf} when available.}

\item{alpha}{Numeric in \eqn{(0,1)}. If \code{NULL}, it is solved for.}

\item{power}{Numeric in \eqn{(0,1)}. If \code{NULL}, it is computed; if \code{n_total}
is \code{NULL}, \code{n_total} is solved to achieve this power.}

\item{epsilon}{Numeric in \eqn{(0,1]}. Nonsphericity (Greenhouseâ€“Geisser) parameter
applied to within-participant terms with \eqn{\mathrm{df}_1 \ge 2}. Ignored if no
within-participant factor or if all within factors have 2 levels.}

\item{target}{Character vector of term labels to compute (e.g., \code{"B1"}, \code{"W1"},
\code{"B1:W1"}, ...). If \code{NULL}, all terms are returned.}

\item{max_nfactor}{Integer. Safety cap for the total number of factors.}

\item{nlim}{Integer length-2. Search range of total \code{n} when solving sample size.}
}
\value{
A data frame with S3 class:
\itemize{
\item \code{"cal_power"} when power is calculated given \code{n_total}, \code{alpha}, and effect size;
\item \code{"cal_n"} or \code{"cal_ns"} when \code{n_total} is solved;
\item \code{"cal_alpha"} or \code{"cal_alphas"} when \code{alpha} is solved;
\item \code{"cal_es"} when minimal detectable effect sizes are solved.
}
Columns include \code{term}, \code{df_num}, \code{df_denom}, \code{n_total},
\code{alpha}, \code{power}, \code{cohensf}, \code{peta2}, \code{criticalF}, \code{ncp}, \code{epsilon}.
}
\description{
Computes power, required total sample size, alpha, or minimal detectable
effect size for fixed-effects terms in between-/within-/mixed-factor ANOVA
designs.
}
\details{
\itemize{
\item Numerator df are adjusted by \code{epsilon} for within terms with \eqn{\mathrm{df}_1 \ge 2}.
\item Denominator df follow standard mixed ANOVA formulas, multiplied by the same
\code{epsilon} for within terms.
\item Critical values use the central F; power uses the noncentral F with
\eqn{\lambda = f^2 \cdot n_\mathrm{total}}.
}
}
\examples{
# One between factor (k=3), one within factor (m=4), compute power
pwranova(nlevels_b = 3, nlevels_w = 4, n_total = 60,
         cohensf = 0.25, alpha = 0.05, power = NULL, epsilon = 0.8)

# Solve required total N for target power
pwranova(nlevels_b = 2, nlevels_w = NULL, n_total = NULL,
         peta2 = 0.06, alpha = 0.05, power = 0.8)

}
\references{
Cohen, J. (1988). \emph{Statistical power analysis for the behavioral sciences} (2nd ed.).
Hillsdale, NJ: Lawrence Erlbaum Associates.
}
